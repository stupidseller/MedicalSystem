<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>线上支付 · 医院费用（亮色风格）</title>
  <style>
    :root{
      --bg:#f7f8fb; --panel:#ffffff; --panel-2:#f9fafb; --line:#e5e7eb; --text:#111827; --muted:#6b7280;
      --primary:#2563eb; --primary-600:#1d4ed8; --ok:#059669; --warn:#d97706; --danger:#ef4444;
      --shadow:0 10px 30px rgba(0,0,0,.06); --radius-xl:20px; --radius-lg:14px; --radius-md:10px;
    }
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Microsoft YaHei",sans-serif}
    *{box-sizing:border-box}

    .container{max-width:1120px;margin:0 auto;padding:18px}

    /* 顶部 */
    .top{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,#93c5fd,#dbeafe);display:grid;place-items:center;box-shadow:var(--shadow)}
    .title{font-size:18px;font-weight:900}
    .spacer{flex:1}
    .step{display:flex;gap:10px}
    .step .s{display:flex;align-items:center;gap:8px;color:#64748b}
    .step .dot{width:22px;height:22px;border-radius:999px;border:2px solid #cfe0ff;background:#eaf2ff;color:#1e3a8a;display:grid;place-items:center;font-weight:900}
    .step .s[aria-current="true"]{color:#1d4ed8}

    .grid{display:grid;gap:14px;margin-top:12px}
    @media(min-width:980px){.grid{grid-template-columns: 1.1fr .9fr}}

    .panel{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius-xl);box-shadow:var(--shadow);padding:16px}
    .panel-title{font-weight:900;margin-bottom:8px}

    /* 订单信息 */
    .big{font-size:28px;font-weight:900}
    .muted{color:var(--muted)}
    .kvs{display:grid;grid-template-columns:140px 1fr;gap:6px;margin-top:6px}
    .k{color:#475569}

    .items{margin-top:8px;border-top:1px dashed var(--line);padding-top:8px}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px 6px;border-bottom:1px solid var(--line);text-align:left}
    thead th{font-size:12px;color:#64748b;background:#f9fafb}
    .right{text-align:right}

    /* 支付方式 */
    .pm-list{display:grid;gap:10px}
    .pm{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;border:1px solid var(--line);border-radius:12px;background:var(--panel-2);padding:10px;cursor:pointer}
    .pm[aria-checked="true"]{border-color:#cfe0ff;background:#edf5ff}
    .pm .ic{width:38px;height:38px;border-radius:10px;display:grid;place-items:center;color:#fff;font-weight:900}
    .wx{background:#22c55e}
    .ali{background:#0284c7}
    .card{background:#64748b}

    .qr{display:grid;place-items:center;border:1px dashed var(--line);border-radius:12px;background:#fff;height:210px}
    .qr small{color:#94a3b8}

    .row{display:flex;justify-content:space-between;align-items:center}
    .tips{background:#fffbe6;border:1px solid #fde68a;border-radius:12px;padding:10px}
    .agree{display:flex;align-items:center;gap:8px;margin-top:8px}

    .btn{height:44px;padding:0 16px;border:1px solid var(--line);background:#fff;border-radius:12px;cursor:pointer;font-weight:800}
    .btn-primary{background:var(--primary);color:#fff;border-color:transparent}
    .btn-primary:disabled{opacity:.5;cursor:not-allowed}

    .sticky-pay{position:sticky;bottom:0;z-index:10;margin-top:12px}
    .bar{display:flex;gap:12px;align-items:center;justify-content:flex-end;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border:1px solid var(--line);padding:12px;border-radius:14px;box-shadow:var(--shadow)}

    .subtle{font-size:12px;color:#64748b}
  </style>
</head>
<body>
  <div class="container">
    <div class="top">
      <div class="logo">💳</div>
      <div class="title">线上支付</div>
      <div class="spacer"></div>
      <div class="step">
        <div class="s" aria-current="true"><div class="dot">1</div>核对账单</div>
        <div class="s"><div class="dot">2</div>选择方式</div>
        <div class="s"><div class="dot">3</div>支付完成</div>
      </div>
    </div>

    <div class="grid">
      <!-- 左：账单 -->
      <section class="panel">
        <div class="panel-title">订单信息</div>
        <div class="row">
          <div>
            <div class="muted">应付金额（含自费部分）</div>
            <div class="big" id="amount">¥ 628.00</div>
          </div>
          <div class="muted">订单号：<span id="orderNo">PAY-20250826-0008</span></div>
        </div>

        <div class="kvs" style="margin-top:8px">
          <div class="k">患者</div><div>张三（MRN: 00012345）</div>
          <div class="k">就诊</div><div>门诊 · 心内科 · 2025-08-26 10:20</div>
          <div class="k">费用科目</div><div>诊查费、检查费、药品费</div>
        </div>

        <div class="items">
          <table>
            <thead><tr><th>项目</th><th>数量</th><th>单价</th><th class="right">小计</th></tr></thead>
            <tbody id="tbody">
              <tr><td>诊查费</td><td>1</td><td>¥ 30.00</td><td class="right">¥ 30.00</td></tr>
              <tr><td>心电图检查</td><td>1</td><td>¥ 80.00</td><td class="right">¥ 80.00</td></tr>
              <tr><td>血脂全套检验</td><td>1</td><td>¥ 120.00</td><td class="right">¥ 120.00</td></tr>
              <tr><td>药品（阿司匹林肠溶片 28 天）</td><td>1</td><td>¥ 398.00</td><td class="right">¥ 398.00</td></tr>
            </tbody>
          </table>
        </div>

        <div style="margin-top:8px">
          <div class="row"><div class="muted">医保预计报销</div><div class="muted">- ¥ 0.00</div></div>
          <div class="row"><div class="muted">优惠/减免</div><div class="muted">- ¥ 0.00</div></div>
          <div class="row" style="font-weight:900"><div>应付金额</div><div id="due">¥ 628.00</div></div>
        </div>

        <div class="tips" style="margin-top:10px">温馨提示：支付成功后自动同步到医院系统；如需发票请在支付完成页索取电子发票。</div>
      </section>

      <!-- 右：方式 & 扫码/卡号 -->
      <aside class="panel">
        <div class="panel-title">选择支付方式</div>
        <div class="pm-list" role="radiogroup">
          <label class="pm" data-way="wechat" aria-checked="true"><div class="ic wx">微</div><div>微信支付（推荐）<div class="subtle">使用微信扫描二维码或唤起支付</div></div><div class="muted">≤ ¥ 50,000</div></label>
          <label class="pm" data-way="alipay"><div class="ic ali">支</div><div>支付宝<div class="subtle">打开支付宝完成支付</div></div><div class="muted">≤ ¥ 50,000</div></label>
          <label class="pm" data-way="card"><div class="ic card">卡</div><div>银联云闪付/银行卡<div class="subtle">输入卡号完成支付</div></div><div class="muted">支持分期</div></label>
        </div>

        <div id="box-scan" style="margin-top:10px">
          <div class="panel-title" style="margin:0 0 6px">扫码支付</div>
          <div class="qr" id="qr"><div>🔲</div><small>模拟二维码 · 订单 15:00 内有效</small></div>
          <div class="agree"><input id="agree" type="checkbox"/> <label for="agree">我已阅读《就医支付须知》并同意扣款</label></div>
        </div>

        <div id="box-card" style="display:none;margin-top:10px">
          <div class="panel-title" style="margin:0 0 6px">银行卡支付</div>
          <div class="pm-list" style="gap:8px">
            <label class="pm" style="grid-template-columns:1fr" aria-checked="false">
              <div style="display:grid;gap:8px">
                <input id="cardno" placeholder="卡号" style="height:40px;border:1px solid var(--line);border-radius:10px;padding:0 10px"/>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
                  <input id="expiry" placeholder="有效期 MM/YY" style="height:40px;border:1px solid var(--line);border-radius:10px;padding:0 10px"/>
                  <input id="cvv" placeholder="CVV" style="height:40px;border:1px solid var(--line);border-radius:10px;padding:0 10px"/>
                </div>
                <input id="holder" placeholder="持卡人姓名" style="height:40px;border:1px solid var(--line);border-radius:10px;padding:0 10px"/>
              </div>
            </label>
          </div>
          <div class="agree"><input id="agree2" type="checkbox"/> <label for="agree2">同意扣款并保存卡片用于本次就诊</label></div>
        </div>

        <div class="tips" style="margin-top:10px">安全说明：平台通过国密/PCI-DSS 加密存储与传输；我们不会保存敏感卡面信息。</div>
      </aside>
    </div>

    <!-- 底部支付条 -->
    <div class="sticky-pay">
      <div class="bar">
        <div class="subtle">剩余支付时间：<span id="left">14:59</span></div>
        <div style="font-weight:900">应付：<span id="amt">¥ 628.00</span></div>
        <button id="pay" class="btn btn-primary" disabled>立即支付</button>
      </div>
    </div>
  </div>

  <script>
    // 支付方式切换
    const ways=document.querySelectorAll('.pm');
    const boxScan=document.getElementById('box-scan');
    const boxCard=document.getElementById('box-card');
    ways.forEach(w=> w.addEventListener('click',()=>{
      ways.forEach(x=>x.setAttribute('aria-checked','false'));
      w.setAttribute('aria-checked','true');
      const way=w.dataset.way;
      if(way==='card'){ boxScan.style.display='none'; boxCard.style.display='block'; }
      else { boxScan.style.display='block'; boxCard.style.display='none'; }
      updatePayEnabled();
    }));

    // 同意勾选
    ['agree','agree2'].forEach(id=>{ const el=document.getElementById(id); if(el) el.addEventListener('change',updatePayEnabled); });
    function updatePayEnabled(){
      const selected=document.querySelector('.pm[aria-checked="true"]').dataset.way;
      const ok = selected==='card' ? document.getElementById('agree2').checked : document.getElementById('agree').checked;
      document.getElementById('pay').disabled = !ok;
    }

    // 倒计时（15 分钟）
    let left=15*60; const leftEl=document.getElementById('left');
    const timer=setInterval(()=>{ left--; const m=String(Math.floor(left/60)).padStart(2,'0'); const s=String(left%60).padStart(2,'0'); leftEl.textContent=`${m}:${s}`; if(left<=0){ clearInterval(timer); leftEl.textContent='已过期'; document.getElementById('pay').disabled=true; } },1000);

    // 支付按钮（模拟）
    document.getElementById('pay').addEventListener('click',()=>{
      const way=document.querySelector('.pm[aria-checked="true"]').dataset.way;
      alert(`模拟支付成功（方式：${way}）\n订单号：`+document.getElementById('orderNo').textContent);
    });
  </script>
</body>
</html>