<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>åŒ»æ‚£æ²Ÿé€š â€“ å¯¹è¯ç•Œé¢ï¼ˆäº®è‰²ä¸»é¢˜ï¼‰</title>
  <style>
    :root{
      --bg:#f7f8fb; --panel:#ffffff; --panel-2:#f9fafb; --line:#e5e7eb; --text:#111827; --muted:#6b7280;
      --primary:#2563eb; --primary-600:#1d4ed8; --success:#059669; --warning:#d97706; --danger:#ef4444;
      --shadow:0 10px 30px rgba(0,0,0,.07); --radius-xl:20px; --radius-lg:16px; --radius-md:12px;
    }
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Noto Sans CJK SC","Microsoft YaHei",sans-serif}
    *{box-sizing:border-box}

    .layout{height:100vh; display:grid; grid-template-columns: 280px 1fr 320px; gap:14px; padding:14px; max-width:1400px; margin:0 auto}
    @media(max-width:1200px){.layout{grid-template-columns:240px 1fr;}}
    @media(max-width:900px){.layout{grid-template-columns:1fr;}}

    /* åˆ—è¡¨ä¾§æ  */
    .side{background:var(--panel); border:1px solid var(--line); border-radius:var(--radius-xl); box-shadow:var(--shadow); display:flex; flex-direction:column; min-height:0}
    .side-head{display:flex; align-items:center; gap:10px; padding:14px; border-bottom:1px solid var(--line)}
    .avatar{width:34px; height:34px; border-radius:12px; background:#e0ecff; display:grid; place-items:center; font-weight:800}
    .side-search{padding:10px}
    .input{height:42px; display:flex; align-items:center; gap:10px; background:var(--panel-2); border:1px solid var(--line); border-radius:12px; padding:0 12px}
    .input input{border:0; outline:0; background:transparent; width:100%}
    .convs{overflow:auto}
    .conv{display:grid; grid-template-columns:auto 1fr auto; gap:10px; padding:12px 14px; border-top:1px solid var(--line); cursor:pointer}
    .conv:hover{background:#f8fafc}
    .conv .name{font-weight:800}
    .conv .last{color:var(--muted); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .badge{font-size:12px; padding:2px 6px; border-radius:999px; border:1px solid var(--line); background:#f1f5f9}
    .online{color:#059669}

    /* ä¸­å¤®èŠå¤©åŒº */
    .chat{background:var(--panel); border:1px solid var(--line); border-radius:var(--radius-xl); box-shadow:var(--shadow); display:grid; grid-template-rows:auto 1fr auto}
    .chat-head{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid var(--line)}
    .doc{display:flex; align-items:center; gap:10px}
    .doc .avatar{background:#dcfce7}
    .doc .meta{display:flex; flex-direction:column}
    .doc .meta .nm{font-weight:900}
    .doc .meta .sub{color:var(--muted); font-size:13px}
    .chat-ops{display:flex; gap:8px}
    .btn{height:36px; padding:0 12px; border:1px solid var(--line); background:#fff; border-radius:10px; cursor:pointer; font-weight:700}
    .btn-primary{background:var(--primary); color:#fff; border-color:transparent}

    .consent{display:flex; align-items:center; gap:10px; background:#fffbe6; border-top:1px solid #fde68a; border-bottom:1px solid #fde68a; padding:10px 16px}
    .consent .muted{font-size:13px}

    .messages{padding:16px; overflow:auto; display:flex; flex-direction:column; gap:10px; background:linear-gradient(#fff, #fff), linear-gradient(#fff,#fff), var(--panel);}
    .day{position:relative; text-align:center; margin:8px 0}
    .day span{background:#e5e7eb; color:#374151; font-size:12px; padding:3px 8px; border-radius:999px}

    .msg{max-width:min(72%, 560px); display:grid; gap:4px}
    .msg .bubble{padding:10px 12px; border-radius:14px; border:1px solid var(--line); background:#f9fafb}
    .msg .time{color:var(--muted); font-size:12px}

    .from-me{align-self:flex-end}
    .from-me .bubble{background:#e8f0ff; border-color:#cfe0ff}
    .from-me .meta{display:flex; justify-content:flex-end; gap:8px}

    .from-doc .hdr{display:flex; align-items:center; gap:8px}
    .from-doc .hdr .nm{font-weight:800; font-size:13px}

    .attach{display:flex; gap:8px; flex-wrap:wrap}
    .file{border:1px solid var(--line); background:var(--panel-2); border-radius:10px; padding:6px 8px; font-size:13px}

    .typing{display:flex; align-items:center; gap:8px; color:#6b7280; font-size:13px}
    .dot{width:6px; height:6px; background:#d1d5db; border-radius:999px; animation: blink 1s infinite}
    .dot:nth-child(2){animation-delay:.2s}
    .dot:nth-child(3){animation-delay:.4s}
    @keyframes blink{0%,60%{opacity:.2} 30%{opacity:1}}

    .chat-input{display:grid; grid-template-columns:auto 1fr auto; gap:10px; padding:12px; border-top:1px solid var(--line)}
    .ibox{display:flex; align-items:center; gap:10px; background:var(--panel-2); border:1px solid var(--line); border-radius:12px; padding:0 10px}
    .ibox input{height:42px; border:0; outline:0; background:transparent; width:100%}
    .quick{display:flex; gap:8px; flex-wrap:wrap; padding:0 12px 12px}
    .chip{padding:8px 10px; border:1px solid var(--line); border-radius:999px; background:#fff; cursor:pointer; font-weight:700; font-size:13px}

    /* å³ä¾§æ‚£è€…ä¿¡æ¯/ç¬”è®° */
    .side-r{background:var(--panel); border:1px solid var(--line); border-radius:var(--radius-xl); box-shadow:var(--shadow); display:flex; flex-direction:column; min-height:0}
    .side-r-head{padding:12px 14px; border-bottom:1px solid var(--line); font-weight:900}
    .info{padding:12px; display:grid; gap:8px}
    .kv{display:grid; grid-template-columns:100px 1fr; gap:6px}
    .k{color:var(--muted)}
    .note{margin:0 12px 12px; background:var(--panel-2); border:1px solid var(--line); border-radius:12px; padding:10px}
    .note textarea{width:100%; height:120px; border:0; outline:0; background:transparent; resize:vertical}
  </style>
</head>
<body>
  <div class="layout">
    <!-- å·¦ä¾§ï¼šä¼šè¯/åŒ»ç”Ÿåˆ—è¡¨ -->
    <aside class="side">
      <div class="side-head">
        <div class="avatar">æˆ‘</div>
        <div>
          <div style="font-weight:900">æˆ‘çš„å’¨è¯¢</div>
          <div class="muted" style="font-size:12px">å…± 3 ä¸ªä¼šè¯</div>
        </div>
      </div>
      <div class="side-search"><label class="input"><input placeholder="æœç´¢åŒ»ç”Ÿ/ä¼šè¯â€¦"></label></div>
      <div class="convs">
        <div class="conv" data-doc="å¼ ä¸»ä»»">
          <div class="avatar">å¼ </div>
          <div>
            <div class="name">å¼ ä¸‰ Â· ä¸»ä»»åŒ»å¸ˆ <span class="badge online">åœ¨çº¿</span></div>
            <div class="last">å¥½çš„ï¼Œå…ˆæŒ‰åŒ»å˜±åƒ 3 å¤©å†å¤è¯Šâ€¦</div>
          </div>
          <div class="muted" style="font-size:12px">14:26</div>
        </div>
        <div class="conv" data-doc="æåŒ»ç”Ÿ">
          <div class="avatar">æ</div>
          <div>
            <div class="name">æå›› Â· å‰¯ä¸»ä»»åŒ»å¸ˆ</div>
            <div class="last">æŠ¥å‘Šå·²å›ï¼ŒæŒ‡æ ‡åŸºæœ¬æ­£å¸¸ã€‚</div>
          </div>
          <div class="muted" style="font-size:12px">æ˜¨å¤©</div>
        </div>
        <div class="conv" data-doc="ç‹åŒ»ç”Ÿ">
          <div class="avatar">ç‹</div>
          <div>
            <div class="name">ç‹äº” Â· ä¸»æ²»åŒ»å¸ˆ</div>
            <div class="last">æ”¶åˆ°ï¼Œæ³¨æ„ä¼‘æ¯ã€‚</div>
          </div>
          <div class="muted" style="font-size:12px">8/20</div>
        </div>
      </div>
    </aside>

    <!-- ä¸­é—´ï¼šèŠå¤© -->
    <section class="chat">
      <div class="chat-head">
        <div class="doc">
          <div class="avatar">å¼ </div>
          <div class="meta">
            <div class="nm">å¼ ä¸‰ Â· ä¸»ä»»åŒ»å¸ˆï¼ˆå¿ƒå†…ç§‘ï¼‰</div>
            <div class="sub">åœ¨çº¿ Â· é¢„è®¡å›å¤ &lt; 5 åˆ†é’Ÿ Â· æ‰§ä¸šè¯ä¹¦å¯æŸ¥</div>
          </div>
        </div>
        <div class="chat-ops">
          <button class="btn">å‘é€æŠ¥å‘Š</button>
          <button class="btn">å‘èµ·è¯­éŸ³</button>
          <button class="btn btn-primary">è§†é¢‘é—®è¯Š</button>
        </div>
      </div>

      <div class="consent">
        <div>ğŸ“œ</div>
        <div class="muted">æ¸©é¦¨æç¤ºï¼šçº¿ä¸Šæ²Ÿé€šä¸èƒ½æ›¿ä»£é¢è¯Šï¼›ç´§æ€¥æƒ…å†µè¯·æ‹¨æ‰“ 120 æˆ–å‰å¾€æ€¥è¯Šã€‚å‘é€æ¶ˆæ¯ä»£è¡¨æ‚¨åŒæ„ã€Šåœ¨çº¿é—®è¯ŠçŸ¥æƒ…åŒæ„ã€‹ã€‚</div>
      </div>

      <div id="messages" class="messages">
        <div class="day"><span>ä»Šå¤©</span></div>

        <div class="msg from-doc">
          <div class="hdr"><div class="avatar" style="width:24px;height:24px;border-radius:8px">å¼ </div><div class="nm">å¼ ä¸‰</div></div>
          <div class="bubble">æ‚¨å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰åŒ»ç”Ÿï¼Œè¯·ç®€å•æè¿°ä¸€ä¸‹ç›®å‰ä¸é€‚å’ŒæŒç»­æ—¶é—´ã€‚</div>
          <div class="time">14:22 Â· å·²è¯»</div>
        </div>

        <div class="msg from-me">
          <div class="bubble">åŒ»ç”Ÿå¥½ï¼Œæˆ‘è¿™ä¸¤å¤©èƒ¸å£æœ‰ç‚¹é—·ï¼Œèµ°å¿«äº†ä¼šæ›´æ˜æ˜¾ï¼Œæ˜¨æ™šè¡€å‹ 150/95ã€‚</div>
          <div class="attach"><div class="file">è¡€å‹è®°å½•-è¿‘ä¸€å‘¨.csv</div></div>
          <div class="meta time">14:24 Â· å·²é€è¾¾</div>
        </div>

        <div class="msg from-doc">
          <div class="bubble">æ”¶åˆ°ã€‚è¯·é—®æ˜¯å¦ä¼´éšå‡ºæ±—ã€æ¶å¿ƒæˆ–å·¦è‡‚æ”¾å°„ç—›ï¼Ÿå‘ä½œæ—¶é•¿å¤§æ¦‚å¤šä¹…ï¼Ÿ</div>
          <div class="time">14:25 Â· å·²è¯»</div>
        </div>
      </div>

      <div id="typing" class="typing" style="display:none; padding:0 16px 8px">
        <div class="avatar" style="width:22px;height:22px;border-radius:8px">å¼ </div>
        <div style="display:flex; gap:4px"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
        <div>åŒ»ç”Ÿæ­£åœ¨è¾“å…¥â€¦</div>
      </div>

      <div class="quick">
        <button class="chip">ç”¨è¯æ˜¯å¦éœ€è¦è°ƒæ•´ï¼Ÿ</button>
        <button class="chip">ä¸Šä¼ è¿‘ä¸‰å¤©çš„è¡€å‹è®°å½•</button>
        <button class="chip">èƒ½å¦å¼€å…·å¤è¯Šå•ï¼Ÿ</button>
        <button class="chip">éœ€è¦åšå“ªäº›æ£€æŸ¥ï¼Ÿ</button>
      </div>

      <div class="chat-input">
        <button id="btnFile" class="btn" title="ä¸Šä¼ å›¾ç‰‡æˆ–æ–‡ä»¶">ğŸ“</button>
        <label class="ibox" style="grid-column: 2 / 3"><input id="ibox" placeholder="è¾“å…¥è¦å‘é€çš„æ¶ˆæ¯â€¦ï¼ˆå›è½¦å‘é€ï¼‰"></label>
        <button id="send" class="btn btn-primary">å‘é€</button>
      </div>
    </section>

    <!-- å³ä¾§ï¼šæ‚£è€…æ‘˜è¦/å¿«æ·æ“ä½œï¼ˆå¯é€‰ï¼‰ -->
    <aside class="side-r" style="display:block">
      <div class="side-r-head">å°±è¯Šæ‘˜è¦</div>
      <div class="info">
        <div class="kv"><div class="k">ç§‘å®¤</div><div>å¿ƒå†…ç§‘</div></div>
        <div class="kv"><div class="k">æœ€è¿‘è¯Šæ–­</div><div>é«˜è¡€å‹ 2 çº§</div></div>
        <div class="kv"><div class="k">å½“å‰ç”¨è¯</div><div>ç¼¬æ²™å¦ 80mg qd</div></div>
        <div class="kv"><div class="k">è¿‡æ•å²</div><div>é’éœ‰ç´ </div></div>
      </div>
      <div class="side-r-head">æˆ‘çš„å¤‡å¿˜</div>
      <div class="note"><textarea placeholder="ç»™è‡ªå·±è®°ç‚¹å°±è¯Šè¦ç‚¹ï¼ˆä»…è‡ªå·±å¯è§ï¼‰â€¦"></textarea></div>
    </aside>
  </div>

  <script>
    const input = document.getElementById('ibox');
    const sendBtn = document.getElementById('send');
    const msgs = document.getElementById('messages');
    const typing = document.getElementById('typing');

    function addMyMsg(text){
      if(!text.trim()) return;
      const wrap=document.createElement('div'); wrap.className='msg from-me';
      const b=document.createElement('div'); b.className='bubble'; b.textContent=text; wrap.appendChild(b);
      const t=document.createElement('div'); t.className='meta time'; t.textContent=timeNow()+ ' Â· å·²é€è¾¾'; wrap.appendChild(t);
      msgs.appendChild(wrap); scrollBottom();
      simulateDoctorReply(text);
    }

    function timeNow(){ const d=new Date(); const p=n=>n.toString().padStart(2,'0'); return `${p(d.getHours())}:${p(d.getMinutes())}`; }
    function scrollBottom(){ msgs.scrollTop = msgs.scrollHeight; }

    input.addEventListener('keydown',e=>{ if(e.key==='Enter'){ e.preventDefault(); addMyMsg(input.value); input.value=''; } });
    sendBtn.addEventListener('click',()=>{ addMyMsg(input.value); input.value=''; });

    document.querySelectorAll('.chip').forEach(c=> c.addEventListener('click',()=>{ addMyMsg(c.textContent); }));

    // æ¨¡æ‹ŸåŒ»ç”Ÿå›å¤ï¼ˆç¤ºä¾‹ï¼‰
    function simulateDoctorReply(text){
      typing.style.display='flex';
      setTimeout(()=>{
        typing.style.display='none';
        const w=document.createElement('div'); w.className='msg from-doc';
        const b=document.createElement('div'); b.className='bubble';
        b.textContent = suggest(text);
        const t=document.createElement('div'); t.className='time'; t.textContent=timeNow()+' Â· å·²è¯»';
        w.appendChild(b); w.appendChild(t); msgs.appendChild(w); scrollBottom();
      }, 1000 + Math.random()*800);
    }

    function suggest(txt){
      txt=txt.toLowerCase();
      if(txt.includes('è¡€å‹')||txt.includes('ç”¨è¯')) return 'å»ºè®®å…ˆæŒç»­è®°å½• 3 å¤©çš„æ™¨èµ·ä¸ç¡å‰è¡€å‹ï¼Œè‹¥å¹³å‡å€¼ä»â‰¥140/90ï¼Œå¯è€ƒè™‘è°ƒæ•´ç”¨è¯å‰‚é‡ã€‚æœŸé—´æ³¨æ„ä½ç›é¥®é£Ÿä¸è§„å¾‹è¿åŠ¨ã€‚';
      if(txt.includes('æ£€æŸ¥')) return 'ç»“åˆç—‡çŠ¶ï¼Œå»ºè®®å…ˆåšå¿ƒç”µå›¾ä¸å¿ƒè‚Œé…¶ï¼Œå¿…è¦æ—¶è¡ŒåŠ¨æ€å¿ƒç”µå›¾ï¼›å¦‚èƒ¸é—·åŠ é‡è¯·åŠæ—¶æ€¥è¯Šã€‚';
      if(txt.includes('å¤è¯Š')) return 'å¯ä»¥ï¼Œä¸ºä½ å¼€å…· 1 å‘¨å†…çš„å¤è¯Šå•ã€‚è‹¥ä¸é€‚åŠ é‡å¯æå‰å°±è¯Šã€‚';
      return 'å·²äº†è§£ï¼Œè¯·è¡¥å……ç—‡çŠ¶çš„å‡ºç°æ—¶é—´ã€æŒç»­æ—¶é•¿å’Œè¯±å‘ç¼“è§£å› ç´ ï¼Œå¹¶ä¸Šä¼ è¿‘ 3 å¤©è¡€å‹è®°å½•ã€‚';
    }

    // æ–‡ä»¶æŒ‰é’®ï¼ˆç¤ºä¾‹ï¼‰
    document.getElementById('btnFile').addEventListener('click',()=>{
      const w=document.createElement('div'); w.className='msg from-me';
      const b=document.createElement('div'); b.className='bubble'; b.textContent='å·²ä¸Šä¼ ï¼šä½“æ£€æŠ¥å‘Š.pdf';
      const a=document.createElement('div'); a.className='attach'; const f=document.createElement('div'); f.className='file'; f.textContent='ä½“æ£€æŠ¥å‘Š.pdf'; a.appendChild(f);
      const t=document.createElement('div'); t.className='meta time'; t.textContent=timeNow()+' Â· å·²é€è¾¾';
      w.appendChild(b); w.appendChild(a); w.appendChild(t); msgs.appendChild(w); scrollBottom();
      simulateDoctorReply('æŠ¥å‘Š');
    });
  </script>
</body>
</html>
