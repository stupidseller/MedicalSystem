<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>初诊病历记录（纸质风格·可打印）</title>
  <style>
    :root{ --ink:#111; --muted:#6b7280; --sheet:#fff; --line:#d1d5db; }
    body{margin:0;background:#eceff3;font:14px/1.7 "Source Han Sans SC","PingFang SC","Microsoft YaHei",system-ui}

    /* A4 纸张 */
    .wrap{display:grid;place-items:center;padding:18px}
    .paper{width:794px; min-height:1123px; background:var(--sheet); color:var(--ink); box-shadow:0 6px 24px rgba(0,0,0,.12); position:relative}
    .pad{padding:26px 30px}

    /* 页眉 */
    .hosp{display:flex;justify-content:center;align-items:center}
    .hosp .name{font:700 22px/1.2 "STSong","Songti SC",serif; letter-spacing:2px}
    .title{margin:6px 0 14px; text-align:center; font:700 18px/1.2 "STSong","Songti SC",serif}

    /* 顶部基本信息（按图片风格为行内文本+横线） */
    .row{display:flex;gap:16px;flex-wrap:wrap;margin:4px 0}
    .field{display:flex;gap:6px;align-items:center}
    .label{color:#111;min-width:52px}
    .line{min-width:160px; flex:0 0 auto; border-bottom:1px solid var(--line); padding:0 6px; min-height:22px}
    .grow{flex:1}
    [contenteditable]{outline:0}

    .sep{height:1px;background:var(--line);margin:10px 0}

    /* 段落条目 */
    .sec{margin:8px 0}
    .sec .s-head{font-weight:800}
    .block{min-height:60px;border:1px solid var(--line);padding:8px;border-radius:6px}

    /* 小表格（检查/医嘱） */
    table{width:100%;border-collapse:collapse;margin-top:4px}
    th,td{border:1px solid var(--line);padding:6px 8px;vertical-align:top}
    th{text-align:left;background:#f6f7f9}

    /* 底部签名/提示 */
    .sign{display:flex;justify-content:flex-end;gap:60px;margin-top:22px}
    .stamp{position:absolute; right:90px; bottom:140px; width:140px; height:140px; border:3px solid #c81e1e; border-radius:50%; opacity:.18}
    .foot{margin-top:18px;color:#374151;border-top:1px solid var(--line);padding-top:8px;font-size:12px;display:flex;justify-content:space-between}

    /* 工具条（非打印） */
    .tools{position:sticky;top:0;z-index:10;background:#f8fafc;border-bottom:1px solid #e5e7eb;padding:8px 12px;display:flex;gap:8px;justify-content:center}
    .btn{border:1px solid #d1d5db;background:#fff;border-radius:8px;padding:6px 10px;cursor:pointer;font-weight:700}

    @media print{
      body{background:#fff}
      .tools{display:none}
      .paper{box-shadow:none}
    }
  </style>
</head>
<body>
  <div class="tools">
    <button class="btn" onclick="window.print()">🖨 打印</button>
    <button class="btn" onclick="addPage()">＋ 新增空白页</button>
  </div>

  <div id="doc" class="wrap">
    <section class="paper">
      <div class="pad">
        <div class="hosp"><div class="name" contenteditable>××市××区人民医院</div></div>
        <div class="title">初 诊 病 历 记 录</div>

        <!-- 顶部信息 -->
        <div class="row">
          <div class="field"><div class="label">姓　名</div><div class="line" contenteditable>张三</div></div>
          <div class="field"><div class="label">性　别</div><div class="line" contenteditable>男</div></div>
          <div class="field"><div class="label">年　龄</div><div class="line" contenteditable>45Y</div></div>
          <div class="field"><div class="label">联系电话</div><div class="line grow" contenteditable>138****0000</div></div>
        </div>
        <div class="row">
          <div class="field"><div class="label">就诊日期</div><div class="line" contenteditable id="dt"></div></div>
          <div class="field"><div class="label">门诊病历号</div><div class="line" contenteditable>OP20250826001</div></div>
          <div class="field"><div class="label">住　址</div><div class="line grow" contenteditable>××市××区××路×号</div></div>
        </div>

        <div class="sep"></div>

        <div class="sec">
          <div class="s-head">主诉：</div>
          <div class="block" contenteditable>发热四天。</div>
        </div>

        <div class="sec">
          <div class="s-head">现病史：</div>
          <div class="block" contenteditable>患儿近五天出现发热，体温最高 39.3℃，无咳嗽、无流涕、鼻塞，食欲尚可。用退热药后体温仍有波动。</div>
        </div>

        <div class="sec">
          <div class="s-head">既往史：</div>
          <div class="block" contenteditable>个人史、家族史无特殊；传染病史、过敏史：无。</div>
        </div>

        <div class="sec">
          <div class="s-head">体格检查：</div>
          <div class="block" contenteditable>T 37.6℃，一般情况尚可，咽部及扁桃体充血，两肺呼吸音清，心率齐，无明显阳性体征。</div>
        </div>

        <div class="sec">
          <div class="s-head">辅助检查：</div>
          <table>
            <thead><tr><th>项目</th><th>结果/描述</th><th>日期</th></tr></thead>
            <tbody contenteditable>
              <tr><td>血常规（含 CRP）</td><td>白细胞稍高，CRP 轻度升高，余基本正常</td><td>2025-08-26</td></tr>
            </tbody>
          </table>
        </div>

        <div class="sec">
          <div class="s-head">诊断：</div>
          <div class="block" contenteditable>急性上呼吸道感染。</div>
        </div>

        <div class="sec">
          <div class="s-head">医嘱：</div>
          <table>
            <thead><tr><th style="width:55%">处置/用药</th><th style="width:15%">次数/天数</th><th>备注</th></tr></thead>
            <tbody contenteditable>
              <tr><td>静脉采血（血常规+CRP）</td><td>1 次</td><td>当日完成</td></tr>
              <tr><td>物理退热</td><td>按需</td><td>多饮温水，注意休息</td></tr>
            </tbody>
          </table>
        </div>

        <div class="sec">
          <div class="s-head">健康教育与随访：</div>
          <div class="block" contenteditable>注意幼儿喂养；若出现高热不退、精神差、频繁呕吐、惊厥、抽搐、呼吸急促等情况，请及时来医院复诊或急诊。</div>
        </div>

        <div class="sign">
          <div>医师签名：__________</div>
          <div>护士签名：__________</div>
        </div>

        <div class="foot">
          <div>提示：如您对病史描述有异议，请即时告知，否则视为默认。</div>
          <div id="pageNo">第 1 页（共 1 页）</div>
        </div>
      </div>
      <div class="stamp"></div>
    </section>
  </div>

  <script>
    // 日期填入
    (function(){ const d=new Date(); const p=n=>n.toString().padStart(2,'0'); document.getElementById('dt').textContent=`${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())} ${p(d.getHours())}:${p(d.getMinutes())}`; })();

    // 新增空白页
    function addPage(){
      const doc=document.getElementById('doc');
      const node=doc.querySelector('.paper').cloneNode(true);
      node.querySelectorAll('[contenteditable]').forEach(el=>{ if(!el.closest('thead')) el.textContent=''; });
      doc.appendChild(node); syncPageNo();
    }
    function syncPageNo(){ const n=document.querySelectorAll('.paper').length; document.querySelectorAll('#pageNo').forEach((el,i)=> el.textContent=`第 ${i+1} 页（共 ${n} 页）`); }
    syncPageNo();
  </script>
</body>
</html>
